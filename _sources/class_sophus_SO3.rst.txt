.. index:: pair: class; sophus::SO3
.. _doxid-classsophus_1_1_s_o3:

template class sophus::SO3
==========================

.. toctree::
	:hidden:

Overview
~~~~~~~~

:ref:`SO3 <doxid-classsophus_1_1_s_o3>` using default storage; derived from :ref:`SO3Base <doxid-classsophus_1_1_s_o3_base>`. :ref:`More...<details-classsophus_1_1_s_o3>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <so3.hpp>
	
	template <class ScalarT, int Options>
	class SO3 {
	public:
		// typedefs
	
		using :target:`Base<doxid-classsophus_1_1_s_o3_1a4ce7c7a50ce9c0e7bdf17b7bd9bacfad>` = :ref:`SO3Base<doxid-classsophus_1_1_s_o3_base>`<SO3<ScalarT, Options>> ;
		using :target:`Scalar<doxid-classsophus_1_1_s_o3_1ad0437f9942a8cf5b85cbacc49baeb68b>` = ScalarT ;
		using :target:`Transformation<doxid-classsophus_1_1_s_o3_1aaa8f4adda541b17350b3bdabf1acdc1e>` = typename :ref:`Base::Transformation<doxid-classsophus_1_1_s_o3_base_1a232e86d87b202a4cf84e8870f4fe91ec>` ;
		using :target:`Point<doxid-classsophus_1_1_s_o3_1aa413f836fd7422c044298025291ade6d>` = typename :ref:`Base::Point<doxid-classsophus_1_1_s_o3_base_1a5bdd65d86392afc3aa8f536304999b71>` ;
		using :target:`HomogeneousPoint<doxid-classsophus_1_1_s_o3_1ab103d6732108a856735e62407e860442>` = typename :ref:`Base::HomogeneousPoint<doxid-classsophus_1_1_s_o3_base_1a3362880f9cf601ae4a5b12c4d434c9aa>` ;
		using :target:`Tangent<doxid-classsophus_1_1_s_o3_1aa7a921d4b0c37efb481337ed1be1937f>` = typename :ref:`Base::Tangent<doxid-classsophus_1_1_s_o3_base_1acaaaafa488cbeb31effde063af839189>` ;
		using :target:`Adjoint<doxid-classsophus_1_1_s_o3_1a598cb255781f9167af5814183bddc658>` = typename :ref:`Base::Adjoint<doxid-classsophus_1_1_s_o3_base_1a356363e3ab4e168893890ca4be4364a0>` ;
		using :target:`QuaternionMember<doxid-classsophus_1_1_s_o3_1a7fa547fe2b8be22fac0ff3cf2b14c504>` = Eigen::Quaternion<:ref:`Scalar<doxid-classsophus_1_1_s_o3_1ad0437f9942a8cf5b85cbacc49baeb68b>`, Options> ;

		// fields
	
		static constexpr int :target:`kDoF<doxid-classsophus_1_1_s_o3_1abe19d856446588499f42ba04e08e78b6>` = Base::kDoF;
		static constexpr int :target:`kNumParameters<doxid-classsophus_1_1_s_o3_1a4a9290d4d97ee70b16ea5370b89c53d2>` = Base::kNumParameters;

		// construction
	
		:ref:`SO3<doxid-classsophus_1_1_s_o3_1a5e1b2e13eb73fa124b8d570ff1769412>`();
		:ref:`SO3<doxid-classsophus_1_1_s_o3_1a625466b0ac0e2eaf4a7ea8fbe8aa776b>`(SO3 const& other);
	
		template <class OtherDerived>
		:ref:`SO3<doxid-classsophus_1_1_s_o3_1abe5ce118f938ccf5c1e33832fc1fa3d1>`(:ref:`SO3Base<doxid-classsophus_1_1_s_o3_base>`<OtherDerived> const& other);
	
		:ref:`SO3<doxid-classsophus_1_1_s_o3_1afe31f0094e7f8dac3920d3269cbb4149>`(:ref:`Transformation<doxid-classsophus_1_1_s_o3_1aaa8f4adda541b17350b3bdabf1acdc1e>` const& R);
	
		template <class D>
		:ref:`SO3<doxid-classsophus_1_1_s_o3_1aea0c4c92edb54e5301a5f79dac8ea7dc>`(Eigen::QuaternionBase<D> const& quat);

		// methods
	
		SO3& :ref:`operator=<doxid-classsophus_1_1_s_o3_1a3228a1f8f9cdf5b4b4b3c3194002969a>`(SO3 const& other);
		:ref:`QuaternionMember<doxid-classsophus_1_1_s_o3_1a7fa547fe2b8be22fac0ff3cf2b14c504>` const& :ref:`unit_quaternion<doxid-classsophus_1_1_s_o3_1aa7af1f9bc4ded6518b93aa4593defc01>`() const;
	
		template <class OtherDerived>
		:ref:`SO3Base<doxid-classsophus_1_1_s_o3_base>`<Derived>& :ref:`operator=<doxid-classsophus_1_1_s_o3_1a7eb9db9c5374f2583e1d13264a08d8b6>`(:ref:`SO3Base<doxid-classsophus_1_1_s_o3_base>`<OtherDerived> const& other);
	
		static :ref:`sophus::Matrix<doxid-namespacesophus_1a7f99d420690326fc31ef6aed3fd0038c>`<:ref:`Scalar<doxid-classsophus_1_1_s_o3_1ad0437f9942a8cf5b85cbacc49baeb68b>`, :ref:`kDoF<doxid-classsophus_1_1_s_o3_1abe19d856446588499f42ba04e08e78b6>`, :ref:`kDoF<doxid-classsophus_1_1_s_o3_1abe19d856446588499f42ba04e08e78b6>`> :ref:`leftJacobian<doxid-classsophus_1_1_s_o3_1a540f37f8fcb800894d211705f00b589e>`(:ref:`Tangent<doxid-classsophus_1_1_s_o3_1aa7a921d4b0c37efb481337ed1be1937f>` const& omega, :ref:`optional<doxid-classsophus_1_1optional>`<:ref:`Scalar<doxid-classsophus_1_1_s_o3_1ad0437f9942a8cf5b85cbacc49baeb68b>`> const& theta_o = :ref:`nullopt<doxid-namespacesophus_1a401a4d1011811ff0215ccdffaf44fd18>`);
	
		static :ref:`sophus::Matrix<doxid-namespacesophus_1a7f99d420690326fc31ef6aed3fd0038c>`<:ref:`Scalar<doxid-classsophus_1_1_s_o3_1ad0437f9942a8cf5b85cbacc49baeb68b>`, :ref:`kDoF<doxid-classsophus_1_1_s_o3_1abe19d856446588499f42ba04e08e78b6>`, :ref:`kDoF<doxid-classsophus_1_1_s_o3_1abe19d856446588499f42ba04e08e78b6>`> :target:`leftJacobianInverse<doxid-classsophus_1_1_s_o3_1a8cfc3ce2f6cd7d460d9206910c00d44a>`(
			:ref:`Tangent<doxid-classsophus_1_1_s_o3_1aa7a921d4b0c37efb481337ed1be1937f>` const& omega,
			:ref:`optional<doxid-classsophus_1_1optional>`<:ref:`Scalar<doxid-classsophus_1_1_s_o3_1ad0437f9942a8cf5b85cbacc49baeb68b>`> const& theta_o = :ref:`nullopt<doxid-namespacesophus_1a401a4d1011811ff0215ccdffaf44fd18>`
			);
	
		static :ref:`sophus::Matrix<doxid-namespacesophus_1a7f99d420690326fc31ef6aed3fd0038c>`<:ref:`Scalar<doxid-classsophus_1_1_s_o3_1ad0437f9942a8cf5b85cbacc49baeb68b>`, :ref:`kNumParameters<doxid-classsophus_1_1_s_o3_1a4a9290d4d97ee70b16ea5370b89c53d2>`, :ref:`kDoF<doxid-classsophus_1_1_s_o3_1abe19d856446588499f42ba04e08e78b6>`> :ref:`Dx_exp_x<doxid-classsophus_1_1_s_o3_1a3ca5be2909e3b85572e4249d13099475>`(:ref:`Tangent<doxid-classsophus_1_1_s_o3_1aa7a921d4b0c37efb481337ed1be1937f>` const& omega);
		static :ref:`sophus::Matrix<doxid-namespacesophus_1a7f99d420690326fc31ef6aed3fd0038c>`<:ref:`Scalar<doxid-classsophus_1_1_s_o3_1ad0437f9942a8cf5b85cbacc49baeb68b>`, :ref:`kNumParameters<doxid-classsophus_1_1_s_o3_1a4a9290d4d97ee70b16ea5370b89c53d2>`, :ref:`kDoF<doxid-classsophus_1_1_s_o3_1abe19d856446588499f42ba04e08e78b6>`> :ref:`Dx_exp_x_at_0<doxid-classsophus_1_1_s_o3_1ab6a6dd2f95083680acd3d4683d58d122>`();
		static :ref:`sophus::Matrix<doxid-namespacesophus_1a7f99d420690326fc31ef6aed3fd0038c>`<:ref:`Scalar<doxid-classsophus_1_1_s_o3_1ad0437f9942a8cf5b85cbacc49baeb68b>`, 3, :ref:`kDoF<doxid-classsophus_1_1_s_o3_1abe19d856446588499f42ba04e08e78b6>`> :ref:`Dx_exp_x_times_point_at_0<doxid-classsophus_1_1_s_o3_1a5d79b7d828cbba270ff82e537353114a>`(:ref:`Point<doxid-classsophus_1_1_s_o3_1aa413f836fd7422c044298025291ade6d>` const& point);
		static :ref:`Transformation<doxid-classsophus_1_1_s_o3_1aaa8f4adda541b17350b3bdabf1acdc1e>` :ref:`Dxi_exp_x_matrix_at_0<doxid-classsophus_1_1_s_o3_1aecb88e0c4545c5ddf2df43f7074e791a>`(int i);
		static SO3<:ref:`Scalar<doxid-classsophus_1_1_s_o3_1ad0437f9942a8cf5b85cbacc49baeb68b>`> :ref:`exp<doxid-classsophus_1_1_s_o3_1a2142db3c845479ec0012b37bd4525a44>`(:ref:`Tangent<doxid-classsophus_1_1_s_o3_1aa7a921d4b0c37efb481337ed1be1937f>` const& omega);
		static SO3<:ref:`Scalar<doxid-classsophus_1_1_s_o3_1ad0437f9942a8cf5b85cbacc49baeb68b>`> :ref:`expAndTheta<doxid-classsophus_1_1_s_o3_1a16be097ae60839f4070d2c07ff505582>`(:ref:`Tangent<doxid-classsophus_1_1_s_o3_1aa7a921d4b0c37efb481337ed1be1937f>` const& omega, :ref:`Scalar<doxid-classsophus_1_1_s_o3_1ad0437f9942a8cf5b85cbacc49baeb68b>`* theta);
	
		template <class S = Scalar>
		static :ref:`enable_if_t<doxid-namespacesophus_1a5529a358015f80ee0da9440745fc0be8>`<std::is_floating_point<S>::value, SO3> :ref:`fitToSO3<doxid-classsophus_1_1_s_o3_1a85d83be61bc92edc52be914c0090295a>`(:ref:`Transformation<doxid-classsophus_1_1_s_o3_1aaa8f4adda541b17350b3bdabf1acdc1e>` const& R);
	
		static :ref:`Transformation<doxid-classsophus_1_1_s_o3_1aaa8f4adda541b17350b3bdabf1acdc1e>` :ref:`generator<doxid-classsophus_1_1_s_o3_1a5ad64ee5f056093d62d4e7566bbfc2a1>`(int i);
		static :ref:`Transformation<doxid-classsophus_1_1_s_o3_1aaa8f4adda541b17350b3bdabf1acdc1e>` :ref:`hat<doxid-classsophus_1_1_s_o3_1a1b081fba8ca9b2e3e8aeea50fd4e0ccf>`(:ref:`Tangent<doxid-classsophus_1_1_s_o3_1aa7a921d4b0c37efb481337ed1be1937f>` const& omega);
		static :ref:`Tangent<doxid-classsophus_1_1_s_o3_1aa7a921d4b0c37efb481337ed1be1937f>` :ref:`lieBracket<doxid-classsophus_1_1_s_o3_1a48e5ed0b24ab4f8bee30e21e382227a0>`(:ref:`Tangent<doxid-classsophus_1_1_s_o3_1aa7a921d4b0c37efb481337ed1be1937f>` const& omega1, :ref:`Tangent<doxid-classsophus_1_1_s_o3_1aa7a921d4b0c37efb481337ed1be1937f>` const& omega2);
		static SO3 :ref:`rotX<doxid-classsophus_1_1_s_o3_1a98bdf0d2f1a9ec6ed06d3e2a3ed0b767>`(:ref:`Scalar<doxid-classsophus_1_1_s_o3_1ad0437f9942a8cf5b85cbacc49baeb68b>` const& x);
		static SO3 :ref:`rotY<doxid-classsophus_1_1_s_o3_1a4b8ff809156ccf7811be838587de120c>`(:ref:`Scalar<doxid-classsophus_1_1_s_o3_1ad0437f9942a8cf5b85cbacc49baeb68b>` const& y);
		static SO3 :ref:`rotZ<doxid-classsophus_1_1_s_o3_1ac96e5ce4a5071973348fcaf70c12603e>`(:ref:`Scalar<doxid-classsophus_1_1_s_o3_1ad0437f9942a8cf5b85cbacc49baeb68b>` const& z);
	
		template <class UniformRandomBitGenerator>
		static SO3 :ref:`sampleUniform<doxid-classsophus_1_1_s_o3_1a97c136787f0c57762850e66f62bdbe3f>`(UniformRandomBitGenerator& generator);
	
		static :ref:`Tangent<doxid-classsophus_1_1_s_o3_1aa7a921d4b0c37efb481337ed1be1937f>` :ref:`vee<doxid-classsophus_1_1_s_o3_1a1079e5aedb03072a4975c88ed360f843>`(:ref:`Transformation<doxid-classsophus_1_1_s_o3_1aaa8f4adda541b17350b3bdabf1acdc1e>` const& Omega);

	protected:
		// fields
	
		:ref:`QuaternionMember<doxid-classsophus_1_1_s_o3_1a7fa547fe2b8be22fac0ff3cf2b14c504>` :target:`unit_quaternion_<doxid-classsophus_1_1_s_o3_1aa8d21cab0b64f9f30b2707ffbb9dc3d6>`;

		// methods
	
		:ref:`QuaternionMember<doxid-classsophus_1_1_s_o3_1a7fa547fe2b8be22fac0ff3cf2b14c504>`& :ref:`unit_quaternion_nonconst<doxid-classsophus_1_1_s_o3_1a732959bbc5cc5988137d913bcefb9ca4>`();
	};
.. _details-classsophus_1_1_s_o3:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

:ref:`SO3 <doxid-classsophus_1_1_s_o3>` using default storage; derived from :ref:`SO3Base <doxid-classsophus_1_1_s_o3_base>`.

Construction
------------

.. index:: pair: function; SO3
.. _doxid-classsophus_1_1_s_o3_1a5e1b2e13eb73fa124b8d570ff1769412:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	SO3()

Default constructor initializes unit quaternion to identity rotation.

.. index:: pair: function; SO3
.. _doxid-classsophus_1_1_s_o3_1a625466b0ac0e2eaf4a7ea8fbe8aa776b:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	SO3(SO3 const& other)

Copy constructor.

.. index:: pair: function; SO3
.. _doxid-classsophus_1_1_s_o3_1abe5ce118f938ccf5c1e33832fc1fa3d1:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <class OtherDerived>
	SO3(:ref:`SO3Base<doxid-classsophus_1_1_s_o3_base>`<OtherDerived> const& other)

Copy-like constructor from OtherDerived.

.. index:: pair: function; SO3
.. _doxid-classsophus_1_1_s_o3_1afe31f0094e7f8dac3920d3269cbb4149:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	SO3(:ref:`Transformation<doxid-classsophus_1_1_s_o3_1aaa8f4adda541b17350b3bdabf1acdc1e>` const& R)

Constructor from rotation matrix.

Precondition: rotation matrix needs to be orthogonal with determinant of 1.

.. index:: pair: function; SO3
.. _doxid-classsophus_1_1_s_o3_1aea0c4c92edb54e5301a5f79dac8ea7dc:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <class D>
	SO3(Eigen::QuaternionBase<D> const& quat)

Constructor from quaternion.

Precondition: quaternion must not be close to zero.

Methods
-------

.. index:: pair: function; operator=
.. _doxid-classsophus_1_1_s_o3_1a3228a1f8f9cdf5b4b4b3c3194002969a:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	SO3& operator=(SO3 const& other)

Define copy-assignment operator explicitly. The definition of implicit copy assignment operator is deprecated in presence of a user-declared copy constructor (-Wdeprecated-copy in clang >= 13).

.. index:: pair: function; unit_quaternion
.. _doxid-classsophus_1_1_s_o3_1aa7af1f9bc4ded6518b93aa4593defc01:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`QuaternionMember<doxid-classsophus_1_1_s_o3_1a7fa547fe2b8be22fac0ff3cf2b14c504>` const& unit_quaternion() const

Accessor of unit quaternion.

.. index:: pair: function; operator=
.. _doxid-classsophus_1_1_s_o3_1a7eb9db9c5374f2583e1d13264a08d8b6:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <class OtherDerived>
	:ref:`SO3Base<doxid-classsophus_1_1_s_o3_base>`<Derived>& operator=(:ref:`SO3Base<doxid-classsophus_1_1_s_o3_base>`<OtherDerived> const& other)

Assignment-like operator from OtherDerived.

.. index:: pair: function; leftJacobian
.. _doxid-classsophus_1_1_s_o3_1a540f37f8fcb800894d211705f00b589e:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`sophus::Matrix<doxid-namespacesophus_1a7f99d420690326fc31ef6aed3fd0038c>`<:ref:`Scalar<doxid-classsophus_1_1_s_o3_1ad0437f9942a8cf5b85cbacc49baeb68b>`, :ref:`kDoF<doxid-classsophus_1_1_s_o3_1abe19d856446588499f42ba04e08e78b6>`, :ref:`kDoF<doxid-classsophus_1_1_s_o3_1abe19d856446588499f42ba04e08e78b6>`> leftJacobian(:ref:`Tangent<doxid-classsophus_1_1_s_o3_1aa7a921d4b0c37efb481337ed1be1937f>` const& omega, :ref:`optional<doxid-classsophus_1_1optional>`<:ref:`Scalar<doxid-classsophus_1_1_s_o3_1ad0437f9942a8cf5b85cbacc49baeb68b>`> const& theta_o = :ref:`nullopt<doxid-namespacesophus_1a401a4d1011811ff0215ccdffaf44fd18>`)

Returns the left Jacobian on lie group. See 1st entry in rightmost column in: `http://asrl.utias.utoronto.ca/~tdb/bib/barfoot_ser17_identities.pdf <http://asrl.utias.utoronto.ca/~tdb/bib/barfoot_ser17_identities.pdf>`__.

A precomputed ``theta`` can be optionally passed in

Warning: Not to be confused with :ref:`Dx_exp_x() <doxid-classsophus_1_1_s_o3_1a3ca5be2909e3b85572e4249d13099475>`, which is derivative of the internal quaternion representation of :ref:`SO3 <doxid-classsophus_1_1_s_o3>` wrt the tangent vector

.. index:: pair: function; Dx_exp_x
.. _doxid-classsophus_1_1_s_o3_1a3ca5be2909e3b85572e4249d13099475:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`sophus::Matrix<doxid-namespacesophus_1a7f99d420690326fc31ef6aed3fd0038c>`<:ref:`Scalar<doxid-classsophus_1_1_s_o3_1ad0437f9942a8cf5b85cbacc49baeb68b>`, :ref:`kNumParameters<doxid-classsophus_1_1_s_o3_1a4a9290d4d97ee70b16ea5370b89c53d2>`, :ref:`kDoF<doxid-classsophus_1_1_s_o3_1abe19d856446588499f42ba04e08e78b6>`> Dx_exp_x(:ref:`Tangent<doxid-classsophus_1_1_s_o3_1aa7a921d4b0c37efb481337ed1be1937f>` const& omega)

Returns derivative of exp(x) wrt. x.

.. index:: pair: function; Dx_exp_x_at_0
.. _doxid-classsophus_1_1_s_o3_1ab6a6dd2f95083680acd3d4683d58d122:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`sophus::Matrix<doxid-namespacesophus_1a7f99d420690326fc31ef6aed3fd0038c>`<:ref:`Scalar<doxid-classsophus_1_1_s_o3_1ad0437f9942a8cf5b85cbacc49baeb68b>`, :ref:`kNumParameters<doxid-classsophus_1_1_s_o3_1a4a9290d4d97ee70b16ea5370b89c53d2>`, :ref:`kDoF<doxid-classsophus_1_1_s_o3_1abe19d856446588499f42ba04e08e78b6>`> Dx_exp_x_at_0()

Returns derivative of exp(x) wrt. x_i at x=0.

.. index:: pair: function; Dx_exp_x_times_point_at_0
.. _doxid-classsophus_1_1_s_o3_1a5d79b7d828cbba270ff82e537353114a:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`sophus::Matrix<doxid-namespacesophus_1a7f99d420690326fc31ef6aed3fd0038c>`<:ref:`Scalar<doxid-classsophus_1_1_s_o3_1ad0437f9942a8cf5b85cbacc49baeb68b>`, 3, :ref:`kDoF<doxid-classsophus_1_1_s_o3_1abe19d856446588499f42ba04e08e78b6>`> Dx_exp_x_times_point_at_0(:ref:`Point<doxid-classsophus_1_1_s_o3_1aa413f836fd7422c044298025291ade6d>` const& point)

Returns derivative of exp(x) \* p wrt. x_i at x=0.

.. index:: pair: function; Dxi_exp_x_matrix_at_0
.. _doxid-classsophus_1_1_s_o3_1aecb88e0c4545c5ddf2df43f7074e791a:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`Transformation<doxid-classsophus_1_1_s_o3_1aaa8f4adda541b17350b3bdabf1acdc1e>` Dxi_exp_x_matrix_at_0(int i)

Returns derivative of exp(x).matrix() wrt. ``x_i at x=0``.

.. index:: pair: function; exp
.. _doxid-classsophus_1_1_s_o3_1a2142db3c845479ec0012b37bd4525a44:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static SO3<:ref:`Scalar<doxid-classsophus_1_1_s_o3_1ad0437f9942a8cf5b85cbacc49baeb68b>`> exp(:ref:`Tangent<doxid-classsophus_1_1_s_o3_1aa7a921d4b0c37efb481337ed1be1937f>` const& omega)

Group exponential.

This functions takes in an element of tangent space (= rotation vector ``omega``) and returns the corresponding element of the group SO(3).

To be more specific, this function computes ``expmat(hat(omega))`` with ``expmat(.)`` being the matrix exponential and ``hat(.)`` being the :ref:`hat() <doxid-classsophus_1_1_s_o3_1a1b081fba8ca9b2e3e8aeea50fd4e0ccf>` -operator of SO(3).

.. index:: pair: function; expAndTheta
.. _doxid-classsophus_1_1_s_o3_1a16be097ae60839f4070d2c07ff505582:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static SO3<:ref:`Scalar<doxid-classsophus_1_1_s_o3_1ad0437f9942a8cf5b85cbacc49baeb68b>`> expAndTheta(:ref:`Tangent<doxid-classsophus_1_1_s_o3_1aa7a921d4b0c37efb481337ed1be1937f>` const& omega, :ref:`Scalar<doxid-classsophus_1_1_s_o3_1ad0437f9942a8cf5b85cbacc49baeb68b>`* theta)

As above, but also returns ``theta = |omega|`` as out-parameter.

Precondition: ``theta`` must not be ``nullptr``.

.. index:: pair: function; fitToSO3
.. _doxid-classsophus_1_1_s_o3_1a85d83be61bc92edc52be914c0090295a:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <class S = Scalar>
	static :ref:`enable_if_t<doxid-namespacesophus_1a5529a358015f80ee0da9440745fc0be8>`<std::is_floating_point<S>::value, SO3> fitToSO3(:ref:`Transformation<doxid-classsophus_1_1_s_o3_1aaa8f4adda541b17350b3bdabf1acdc1e>` const& R)

Returns closest :ref:`SO3 <doxid-classsophus_1_1_s_o3>` given arbitrary 3x3 matrix.

.. index:: pair: function; generator
.. _doxid-classsophus_1_1_s_o3_1a5ad64ee5f056093d62d4e7566bbfc2a1:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`Transformation<doxid-classsophus_1_1_s_o3_1aaa8f4adda541b17350b3bdabf1acdc1e>` generator(int i)

Returns the ith infinitesimal generators of SO(3).

The infinitesimal generators of SO(3) are:

.. ref-code-block:: cpp

	      |  0  0  0 |
	G_0 = |  0  0 -1 |
	      |  0  1  0 |
	
	      |  0  0  1 |
	G_1 = |  0  0  0 |
	      | -1  0  0 |
	
	      |  0 -1  0 |
	G_2 = |  1  0  0 |
	      |  0  0  0 |

Precondition: ``i`` must be 0, 1 or 2.

.. index:: pair: function; hat
.. _doxid-classsophus_1_1_s_o3_1a1b081fba8ca9b2e3e8aeea50fd4e0ccf:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`Transformation<doxid-classsophus_1_1_s_o3_1aaa8f4adda541b17350b3bdabf1acdc1e>` hat(:ref:`Tangent<doxid-classsophus_1_1_s_o3_1aa7a921d4b0c37efb481337ed1be1937f>` const& omega)

hat-operator

It takes in the 3-vector representation ``omega`` (= rotation vector) and returns the corresponding matrix representation of Lie algebra element.

Formally, the :ref:`hat() <doxid-classsophus_1_1_s_o3_1a1b081fba8ca9b2e3e8aeea50fd4e0ccf>` -operator of SO(3) is defined as

``hat(.): R^3 -> R^{3x3}, hat(omega) = sum_i omega_i * G_i`` (for i=0,1,2)

with ``G_i`` being the ith infinitesimal generator of SO(3).

The corresponding inverse is the :ref:`vee() <doxid-classsophus_1_1_s_o3_1a1079e5aedb03072a4975c88ed360f843>` -operator, see below.

.. index:: pair: function; lieBracket
.. _doxid-classsophus_1_1_s_o3_1a48e5ed0b24ab4f8bee30e21e382227a0:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`Tangent<doxid-classsophus_1_1_s_o3_1aa7a921d4b0c37efb481337ed1be1937f>` lieBracket(:ref:`Tangent<doxid-classsophus_1_1_s_o3_1aa7a921d4b0c37efb481337ed1be1937f>` const& omega1, :ref:`Tangent<doxid-classsophus_1_1_s_o3_1aa7a921d4b0c37efb481337ed1be1937f>` const& omega2)

Lie bracket.

It computes the Lie bracket of SO(3). To be more specific, it computes

``[omega_1, omega_2]_so3 := vee([hat(omega_1), hat(omega_2)])``

with ``[A,B] := AB-BA`` being the matrix commutator, ``hat(.)`` the :ref:`hat() <doxid-classsophus_1_1_s_o3_1a1b081fba8ca9b2e3e8aeea50fd4e0ccf>` -operator and ``vee(.)`` the :ref:`vee() <doxid-classsophus_1_1_s_o3_1a1079e5aedb03072a4975c88ed360f843>` -operator of :ref:`SO3 <doxid-classsophus_1_1_s_o3>`.

For the Lie algebra so3, the Lie bracket is simply the cross product:

``[omega_1, omega_2]_so3 = omega_1 x omega_2.``

.. index:: pair: function; rotX
.. _doxid-classsophus_1_1_s_o3_1a98bdf0d2f1a9ec6ed06d3e2a3ed0b767:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static SO3 rotX(:ref:`Scalar<doxid-classsophus_1_1_s_o3_1ad0437f9942a8cf5b85cbacc49baeb68b>` const& x)

Construct x-axis rotation.

.. index:: pair: function; rotY
.. _doxid-classsophus_1_1_s_o3_1a4b8ff809156ccf7811be838587de120c:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static SO3 rotY(:ref:`Scalar<doxid-classsophus_1_1_s_o3_1ad0437f9942a8cf5b85cbacc49baeb68b>` const& y)

Construct y-axis rotation.

.. index:: pair: function; rotZ
.. _doxid-classsophus_1_1_s_o3_1ac96e5ce4a5071973348fcaf70c12603e:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static SO3 rotZ(:ref:`Scalar<doxid-classsophus_1_1_s_o3_1ad0437f9942a8cf5b85cbacc49baeb68b>` const& z)

Construct z-axis rotation.

.. index:: pair: function; sampleUniform
.. _doxid-classsophus_1_1_s_o3_1a97c136787f0c57762850e66f62bdbe3f:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <class UniformRandomBitGenerator>
	static SO3 sampleUniform(UniformRandomBitGenerator& generator)

Draw uniform sample from SO(3) manifold. Based on: `http://planning.cs.uiuc.edu/node198.html <http://planning.cs.uiuc.edu/node198.html>`__.

.. index:: pair: function; vee
.. _doxid-classsophus_1_1_s_o3_1a1079e5aedb03072a4975c88ed360f843:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`Tangent<doxid-classsophus_1_1_s_o3_1aa7a921d4b0c37efb481337ed1be1937f>` vee(:ref:`Transformation<doxid-classsophus_1_1_s_o3_1aaa8f4adda541b17350b3bdabf1acdc1e>` const& Omega)

vee-operator

It takes the 3x3-matrix representation ``Omega`` and maps it to the corresponding vector representation of Lie algebra.

This is the inverse of the :ref:`hat() <doxid-classsophus_1_1_s_o3_1a1b081fba8ca9b2e3e8aeea50fd4e0ccf>` -operator, see above.

Precondition: ``Omega`` must have the following structure:

.. code-block:: cpp

	|  0 -c  b |
	|  c  0 -a |
	| -b  a  0 |

.. index:: pair: function; unit_quaternion_nonconst
.. _doxid-classsophus_1_1_s_o3_1a732959bbc5cc5988137d913bcefb9ca4:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`QuaternionMember<doxid-classsophus_1_1_s_o3_1a7fa547fe2b8be22fac0ff3cf2b14c504>`& unit_quaternion_nonconst()

Mutator of unit_quaternion is protected to ensure class invariant.

